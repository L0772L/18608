CHIP Counter {
    IN inc, reset;
    OUT A, B, C, D;

    PARTS:
    // 用 Bit 存储 D 位（最低位）
    Bit(in=dIn, out=D, load=loadD);

    // 输出其他位为0
    And(a=false, b=true, out=A);
    And(a=false, b=true, out=B);
    And(a=false, b=true, out=C);

    // D = D xor inc
    Xor(a=D, b=inc, out=dxor);

    // 如果 reset=1，则输出 false，否则输出 dxor
    Mux(a=dxor, b=false, sel=reset, out=dIn);

    // load 始终为 true（每个时钟都更新）
    And(a=true, b=true, out=loadD);
}

