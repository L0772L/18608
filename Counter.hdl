CHIP Counter {
    IN inc, reset;
    OUT out[16];

    PARTS:
    // 当前值
    Register(in=next, out=curr, load=true);

    // 加1操作
    Inc16(in=curr, out=incOut);

    // inc为1时加1，否则保持
    Mux16(a=curr, b=incOut, sel=inc, out=incd);

    // reset为1时清零，否则输出结果
    Mux16(a=incd, b=false, sel=reset, out=next);

    // 输出当前值
    And16(a=curr, b=true, out=out);
}

