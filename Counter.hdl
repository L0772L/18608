CHIP Counter {
    IN inc, reset;
    OUT out[16];

    PARTS:
    // 当前计数值
    Register(in=next, out=curr, load=load);

    // 加1
    Inc16(in=curr, out=plusOne);
    Mux16(a=curr, b=plusOne, sel=inc, out=maybeInc);
    Mux16(a=maybeInc, b=false, sel=reset, out=next);

    // load 控制
    Or(a=inc, b=reset, out=load);

    // 输出总线
    And16(a=curr, b=true, out=out);
}
